<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>룰렛 이벤트</title>
<style>
  body {
    font-family: sans-serif;
    text-align: center;
    background: #f9f9f9;
    padding: 20px;
  }
  h1 {
    font-size: 2em;
    margin-bottom: 10px;
  }

  #roulette-container {
    margin: 50px auto;
    position: relative;
    width: 300px;
    height: 300px;
  }

  #wheel {
    width: 300px;
    height: 300px;
    border-radius: 50%;
    position: relative;
    border: 5px solid #333;
    transition: transform 4s cubic-bezier(0.33, 1, 0.68, 1);
    box-sizing: border-box;
    overflow: hidden;
    background: conic-gradient(
      #ff6666 0deg 90deg,     /* 1등 구간: 0~90도 */
      #66b3ff 90deg 180deg,   /* 2등 구간: 90~180도 */
      #66ff66 180deg 270deg,  /* 3등 구간: 180~270도 */
      #ffc266 270deg 360deg   /* 4등 구간: 270~360도 */
    );
  }

  /* 각 상품명을 표시하는 레이블 */
  .label {
    position: absolute;
    width: 80px;
    text-align: center;
    font-size: 0.9em;
    font-weight: bold;
    color: #000;
    background: rgba(255,255,255,0.8);
    border-radius: 5px;
    padding: 3px;
  }

  /* 1등 영역(0~90도): 상단 중앙에 위치 */
  .label1 {
    top: 20%;
    left: 50%;
    transform: translateX(-50%);
  }

  /* 2등 영역(90~180도): 오른쪽 중앙에 위치 */
  .label2 {
    top: 50%;
    right: 10%;
    transform: translateY(-50%);
  }

  /* 3등 영역(180~270도): 하단 중앙에 위치 */
  .label3 {
    bottom: 20%;
    left: 50%;
    transform: translateX(-50%);
  }

  /* 4등 영역(270~360도): 왼쪽 중앙에 위치 */
  .label4 {
    top: 50%;
    left: 10%;
    transform: translateY(-50%);
  }

  /* 포인터(위쪽에서 룰렛을 향해 내려오는 삼각형) */
  #pointer {
    position: absolute;
    top: 0px;
    left: 50%;
    transform: translateX(-50%);
    width: 0; 
    height: 0; 
    border-left: 15px solid transparent;
    border-right: 15px solid transparent;
    border-top: 20px solid #333; /* 위에서 아래로 향하는 화살표 */
  }

  button {
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    margin-top: 20px;
  }

  #result {
    margin-top: 20px;
    font-size: 1.2em;
    font-weight: bold;
    color: #333;
  }

</style>
</head>
<body>
<h1>룰렛 이벤트</h1>
<p>1등: 100권 시술권, 2등: 50만원 시술권, 3등: 1회 시술권, 4등: 최고급마스크팩</p>
<div id="roulette-container">
  <div id="pointer"></div>
  <div id="wheel">
    <div class="label label1">100권 시술권</div>
    <div class="label label2">50만원 시술권</div>
    <div class="label label3">1회 시술권</div>
    <div class="label label4">최고급마스크팩</div>
  </div>
</div>
<button id="spinBtn">룰렛 돌리기</button>
<div id="result"></div>

<script>
  const wheel = document.getElementById('wheel');
  const resultDiv = document.getElementById('result');
  const spinBtn = document.getElementById('spinBtn');

  let isSpinning = false;
  
  spinBtn.addEventListener('click', () => {
    if (isSpinning) return; // 회전 중이라면 클릭 무시
    isSpinning = true;
    resultDiv.textContent = '';

    // 총 회전 각도 = (360도 * 5바퀴) + 랜덤(0 ~ 360)
    const extraSpins = 5; 
    const randomAngle = Math.floor(Math.random() * 360);
    const targetAngle = (360 * extraSpins) + randomAngle;

    // 회전 시작
    wheel.style.transform = `rotate(${targetAngle}deg)`;

    wheel.addEventListener('transitionend', () => {
      // 최종 각도 계산
      const finalAngle = targetAngle % 360;

      let prize;
      if (finalAngle >= 0 && finalAngle < 90) {
        prize = "1등 (100권 시술권)";
      } else if (finalAngle >= 90 && finalAngle < 180) {
        prize = "2등 (50만원 시술권)";
      } else if (finalAngle >= 180 && finalAngle < 270) {
        prize = "3등 (1회 시술권)";
      } else {
        prize = "4등 (최고급마스크팩)";
      }

      resultDiv.textContent = `당첨! 축하합니다. 당신의 당첨 상품: ${prize}`;
      isSpinning = false;
    }, {once:true});
  });
</script>
</body>
</html>
